# Docker Static Maps API

[![Build & Publish](https://github.com/dietrichmax/docker-staticmaps/actions/workflows/pipeline.yml/badge.svg)](https://github.com/dietrichmax/docker-staticmaps/actions/workflows/pipeline.yml)

A containerized web version for [staticmaps](https://www.npmjs.com/package/staticmaps) with [express](https://github.com/expressjs/express).

## Usage

To get a static map from the endpoint `/staticmaps` several prameters have to be provided.

- `center` - Center coordinates of the map in the format `lon, lat`
- `zoom` - Set the zoom level for the map.
- `width` - default `300` - Width in pixels of the final image
- `height` - default `300` - Height in pixels of the final image
- `format` - default `png` (e.g. `png`, `jpg` or `webp`)

### Basemap

For different basemaps docker-staticmaps is using exisiting tile-services from various providers. Be sure to check their Terms of Use for your use case or use a `custom` tileserver with the `tileUrl` parameter!

- `basemap` - default "osm" - Select the basemap
  - `osm` - default - [Open Street Map](https://www.openstreetmap.org/)
  - `streets` - Default [Esri street basemap](https://www.arcgis.com/home/webmap/viewer.html?webmap=7990d7ea55204450b8110d57e20c99ab)
  - `satellite` - Esri's [satellite basemap](https://www.arcgis.com/home/webmap/viewer.html?webmap=d802f08316e84c6592ef681c50178f17&center=-71.055499,42.364247&level=15)
  - `hybrid` - Satellite basemap with labels
  - `topo` - Esri [topographic map](https://www.arcgis.com/home/webmap/viewer.html?webmap=a72b0766aea04b48bf7a0e8c27ccc007)
  - `gray` - Esri gray canvas with labels
  - `gray-background` - Esri [gray canvas](https://www.arcgis.com/home/webmap/viewer.html?webmap=8b3d38c0819547faa83f7b7aca80bd76) without labels
  - `oceans` - Esri [ocean basemap](https://www.arcgis.com/home/webmap/viewer.html?webmap=5ae9e138a17842688b0b79283a4353f6&center=-122.255816,36.573652&level=8)
  - `national-geographic` - [National Geographic basemap](https://www.arcgis.com/home/webmap/viewer.html?webmap=d94dcdbe78e141c2b2d3a91d5ca8b9c9)
  - `otm` - [OpenTopoMap](https://www.opentopomap.org/)
  - `stamen-toner` - [Stamen Toner](http://maps.stamen.com/toner/) black and white map with labels
  - `stamen-toner-background` - [Stamen Toner](http://maps.stamen.com/toner-background/) map without labels
  - `stamen-toner-lite` - [Stamen Toner Light](http://maps.stamen.com/toner-lite/) with labels
  - `stamen-terrain` - [Stamen Terrain](http://maps.stamen.com/terrain/) with labels
  - `stamen-terrain-background` - [Stamen Terrain](http://maps.stamen.com/terrain-background/) without labels
  - `stamen-watercolor` - [Stamen Watercolor](http://maps.stamen.com/watercolor/)
  - `carto-light` - [Carto](https://carto.com/location-data-services/basemaps/) Free usage for up to 75,000 mapviews per month, non-commercial services only.
  - `carto-dark` - [Carto](https://carto.com/location-data-services/basemaps/) Free usage for up to 75,000 mapviews per month, non-commercial services only.
  - `carto-voyager` - [Carto](https://carto.com/location-data-services/basemaps/) Free usage for up to 75,000 mapviews per month, non-commercial services only.
  - `custom` - Pass through the tile URL using parameter `tileurl`

### Drawing Markers and Polylines

- `markers` (true/false) to enable/disable rendering markers on the image
- `polyline` (true/false`) to enable/disable rendering polyline on the image
- `coordinates` (lat,lon|lat,lon|lat,lon etc.) should contain list of coordinates for markers and/or polyline to be drawn on the map image

If coordinates are provided and no zoom option is provided Zoom level `zoom` is being calculated automatically. If both zoom and coordinates are there, provided zoom value is being used.

## Deployment

**with Docker**

```
docker run -d  --name='static-maps-api' -p '3003:3000/tcp' 'mxdcodes/docker-staticmaps:latest'
```

**with Node.js**

```js
git clone https://github.com/dietrichmax/docker-staticmaps
npm i
npm run start
```

## Example requests

- `http://localhost:3000/staticmaps?width=300&height=300&center=-119.49280,37.81084&zoom=9&format=png`

![example request 1](https://github.com/dietrichmax/docker-staticmaps/blob/main/examples/example1.png "example request 1")

- `http://localhost:3000/staticmaps?width=500&height=500&center=-73.99515,40.76761&zoom=10&format=webp&basemap=carto-voyager`

![example request 2](https://raw.githubusercontent.com/dietrichmax/docker-staticmaps/refs/heads/main/examples/example2.webp "example request 2")

- `http://localhost:3000/staticmaps?width=500&height=500&center=-73.99515,40.76761&zoom=10&format=png&tileUrl=https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}`

![example request with custom tileUrl](https://github.com/dietrichmax/docker-staticmaps/blob/main/examples/example3.png "example request with custom tileUrl")

- `http://localhost:3000/staticmaps?width=500&height=500&center=-73.99515,40.76761&zoom=10&format=png&tileUrl=https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}`

- `http://localhost:3000/staticmaps?center=40.737102,-73.990318&zoom=12&width=1000&height=1000&basemap=gray-background&path=color:0000FFBB|weight:7|40.736202,-74.006138|40.720982,-73.982277|40.708751,-74.009228`

![example request with polyline](https://github.com/dietrichmax/docker-staticmaps/blob/main/examples/polyline_example.png "example request with polyline")

### Examples with Markers and Polygons (239 points in each):

<details><summary>No zoom, `polyline=true`, `markers=false`</summary>
<p>

http://localhost:3000/staticmaps?width=600&height=600&polyline=true&markers=false&format=png&coordinates=48.726304979176675,-3.9829935637739382|48.72623035828412,-3.9829726446543385|48.726126671101639,-3.9829546542797467|48.725965124843256,-3.9829070729298808|48.725871429380568,-3.9828726793245273|48.725764250990267,-3.9828064532306628|48.725679557682362,-3.9827385375789146|48.72567025076134,-3.9827310750289113|48.725529844164292,-3.9826617613709225|48.725412537198615,-3.9826296635284164|48.725351694726704,-3.9826201452878531|48.725258599474508,-3.9826063049230411|48.725157520450125,-3.9825900299314232|48.725077863838543,-3.9825779905509102|48.724930435729831,-3.9825514102373938|48.724815578113535,-3.9825237355887291|48.724760905376989,-3.9825013965800564|48.724677938456551,-3.9824534296566916|48.724379435330384,-3.9822469276001118|48.724304509274596,-3.9821850264836076|48.7242453124599,-3.9821320570321772|48.724206187829317,-3.9821063430223207|48.724117073204575,-3.9820862134785551|48.724115211407316,-3.9821487430042084|48.724105184734945,-3.9821965308482867|48.724081719367348,-3.9822425179144361|48.72403804515411,-3.9822789731808181|48.723983655021549,-3.9822826030349505|48.723929220485232,-3.9822562022955359|48.723895585782238,-3.9821984698572472|48.723880844629228,-3.9821419043978206|48.723877648655254,-3.9820732384208499|48.723797845789221,-3.9820175084675502|48.723627638282132,-3.9818404854045926|48.723398970469532,-3.9816133237321165|48.723260255797825,-3.9814227812646581|48.723006925729933,-3.9809848799993199|48.72280848106093,-3.9806580548204384|48.722516930914956,-3.9801481705773893|48.722481401441762,-3.9800765402395699|48.722462122768988,-3.9800357458148223|48.722434350778542,-3.9799242133442574|48.722373601604914,-3.9796513219761738|48.722264111052837,-3.9791317143759946|48.722156047189948,-3.9785877356481039|48.722098493087067,-3.9783835106920691|48.722070005095787,-3.9782841665134727|48.72203958913564,-3.9782023053791269|48.722031576972761,-3.9781530230269748|48.722022615599293,-3.9780979064056936|48.722021670514209,-3.9780920945066907|48.722017644091409,-3.9779605441406249|48.722025513025159,-3.9776722815455559|48.722045332714529,-3.9772109376326559|48.722053735143007,-3.9771138043267014|48.722070438865636,-3.9770136883785674|48.722094683814795,-3.9768927468725837|48.72212066400369,-3.9767884140042522|48.722151894438355,-3.9766561252530277|48.722164753089025,-3.9765445766198697|48.722162767259498,-3.9764706168844497|48.722158751460597,-3.9764004794906445|48.722146012544165,-3.9762172688355162|48.722227461836013,-3.9762295377288059|48.722296288892942,-3.9762414815295908|48.72232221501698,-3.9762384660185242|48.722323563266947,-3.9762383094370031|48.722349680680871,-3.9762240648045903|48.722451644242639,-3.9761790330021487|48.722571582544703,-3.9761200308844824|48.722694661725811,-3.976038248842483|48.72280457348333,-3.9759192210092409|48.722898596632298,-3.9757939715137232|48.722924145771628,-3.9757277910774458|48.723027875342694,-3.9755601692346141|48.723085869388655,-3.9754642136941372|48.723130821313823,-3.9753596884687989|48.723172744908666,-3.9752452046208537|48.723203623065494,-3.9751497129709596|48.723237678058368,-3.9751078708190182|48.723310952164013,-3.9747819558910469|48.723353030414891,-3.9745569488778449|48.723383213512264,-3.9743808444699185|48.723489278649787,-3.9742503791095816|48.72355551679567,-3.9741678074149003|48.723650583000598,-3.9740863643858568|48.723765699966172,-3.9740171578073289|48.723826837306156,-3.9740062339886411|48.723887101962582,-3.974010205512887|48.723958957480612,-3.9740321052905099|48.724216407768509,-3.9741689188322571|48.72435426715839,-3.9742201244962216|48.72439213379154,-3.9742210984619613|48.724438595842273,-3.974198657249739|48.724493130833665,-3.9741308947219691|48.724533807080583,-3.9740530886242009|48.724547969508087,-3.9739962994762941|48.724551073116743,-3.9738970874068964|48.724548665724861,-3.9738148796355843|48.724524075644503,-3.9734485628141649|48.724523394428672,-3.9731673315003699|48.724548204108821,-3.9728362858883672|48.724608009682157,-3.9724935458412358|48.724663927892081,-3.9722171582295451|48.724689486935169,-3.9719503556234512|48.724702084887603,-3.9715194122452786|48.724384373293532,-3.9714864581687537|48.723931297977195,-3.9714367589707411|48.723773512694329,-3.9714020016841247|48.723142403376158,-3.9712315904037663|48.722553061093009,-3.9710572179266275|48.722423254995448,-3.9710534997178475|48.722263375490712,-3.9710853345555512|48.721991631903734,-3.9711308627031885|48.721620464188902,-3.9711781010758771|48.72144095754102,-3.9712096061222093|48.721377786529175,-3.9712206932369849|48.721035288187281,-3.9712717657898202|48.720661115119043,-3.97132405891|48.720658172249799,-3.9714205556562807|48.720625093705458,-3.9714611639598667|48.720367261850953,-3.9716545671302637|48.720105607994043,-3.9718515510278749|48.720012778432228,-3.9719564905164586|48.719948348088771,-3.9721007097512819|48.719931633885366,-3.9721394126199514|48.719910011094569,-3.9722156685332681|48.719889806981911,-3.9723139483690701|48.719878277201794,-3.972387460672353|48.719876634992943,-3.972430909277572|48.719715849824389,-3.9725090147281117|48.719588055166632,-3.9725942630926858|48.719492411002605,-3.9726701665779602|48.719409444971753,-3.9727300260532679|48.719359875220448,-3.9727438628495424|48.719321826370724,-3.9727305840993843|48.719271710489089,-3.9727075030610828|48.719155281814899,-3.9726141416165937|48.719090126287838,-3.9725549331087238|48.719004191387249,-3.9724342662034515|48.718954794701787,-3.9725068046106742|48.71891549110584,-3.97257659949108|48.718859370344639,-3.9726714363306401|48.718765530851456,-3.9725469829290265|48.718562737966153,-3.9723711084532511|48.718211808584627,-3.9721344786476291|48.718188304475333,-3.9721272403198005|48.718164800365109,-3.9721200019983796|48.718109220562894,-3.9721439516825257|48.718052465587341,-3.9722496193302645|48.717996400909868,-3.9723280873965545|48.717944269578382,-3.9723702377643164|48.717860598730219,-3.9723958870729996|48.717641152602148,-3.9723501522182838|48.71739138007689,-3.9722826210164159|48.717252044437757,-3.9722257717411287|48.717233967266964,-3.9722260823880156|48.717215017632306,-3.9722412865308696|48.717203599591002,-3.9722820604676521|48.71717314359752,-3.9723857864294811|48.71712716291492,-3.9725079036646913|48.717047580310116,-3.9726487225155389|48.716905525700838,-3.972884888842974|48.716894419684074,-3.9728124458573353|48.716852408704909,-3.9727126704960054|48.716778302906405,-3.9726058721368416|48.716660684131256,-3.9725328244648432|48.716408741054479,-3.9723790369595942|48.716123862870212,-3.9722017412730382|48.715976281584958,-3.972131509704095|48.715915834352352,-3.9721152358034035|48.715854094618727,-3.9721056116781583|48.715776671698386,-3.9721170864458126|48.715640869380508,-3.9721848837903315|48.715617927705033,-3.9721988711627061|48.715594986027497,-3.972212858522802|48.715281944994906,-3.9724084051266559|48.715184429421718,-3.9724854168724297|48.715058528880846,-3.9725845564718414|48.714919212724602,-3.9726969103083118|48.714788118444304,-3.9728076345724226|48.714725520395575,-3.972874307079028|48.714656333515606,-3.9729455558867888|48.714520442035905,-3.9730610951468801|48.714372926704769,-3.973190088001735|48.714257935284586,-3.9732879551060316|48.714193204448428,-3.9733447896150738|48.714195558580528,-3.9733662541672778|48.714197912708805,-3.9733877187215212|48.714217030176762,-3.9735853985978355|48.714237285412707,-3.9738869321571033|48.714233494968994,-3.9741211172878028|48.714217941003717,-3.9742786812842166|48.714187781003247,-3.9744697673526956|48.71411393188383,-3.9748978854605901|48.71405173547447,-3.9751733750558294|48.713980015154426,-3.9751337576981989|48.713904552414718,-3.9750963685588165|48.713732283332455,-3.9750160052121051|48.713649970508307,-3.9749722417727247|48.713572024851231,-3.9749618103152198|48.713461531545221,-3.9749674901387766|48.713333936263702,-3.9749722456633645|48.713256069931639,-3.9749604604215691|48.713203322659965,-3.9749206541688138|48.713149940610734,-3.9748916787552115|48.713074365315144,-3.9748870225864787|48.712960526290907,-3.9748881613981402|48.712875991705552,-3.9748823062645533|48.712792567944504,-3.9748574974517732|48.712733208605279,-3.974807255639317|48.712656509234058,-3.9747601512455399|48.712568764478391,-3.9747320355948168|48.712555616352482,-3.9746020180137824|48.71252932333676,-3.9744497748042646|48.712509734979868,-3.9743680156871255|48.712467837400574,-3.9742355157986884|48.712423807240434,-3.9740931796795915|48.712391745343673,-3.9740547784269156|48.712381668550407,-3.9740418323042972|48.712371591755641,-3.9740288861865705|48.712328372393891,-3.9740422052434679|48.712240426273773,-3.9740945659186919|48.712188882300609,-3.9740958554807819|48.712136531371669,-3.9740492818146889|48.712066882867461,-3.9739280787209492|48.711964131372866,-3.9738324641615206|48.711839130699545,-3.9737775346950173|48.711755048702443,-3.9737485468302975|48.711630435128718,-3.9737332378213397|48.711533221981895,-3.973743425780718|48.711462513332314,-3.9737789907058478|48.711399130773842,-3.973812806948227|48.711330521730567,-3.9738895850529796|48.71127611208626,-3.9739860002738361|48.711227604293548,-3.974212824153986|48.711153788926026,-3.9746095413423337|48.711097818265067,-3.974855831732143|48.710997033431745,-3.9752966923047377

</p>
</details> 

![No zoom, `polyline=true`, `markers=false`](https://github.com/user-attachments/assets/9458d37e-f682-44b4-ba3d-5189e7915d78)

<details><summary>No zoom, `polyline=true`, `markers=true`</summary>
<p>

http://localhost:3000/staticmaps?width=600&height=600&polyline=true&markers=true&format=png&coordinates=48.726304979176675,-3.9829935637739382|48.72623035828412,-3.9829726446543385|48.726126671101639,-3.9829546542797467|48.725965124843256,-3.9829070729298808|48.725871429380568,-3.9828726793245273|48.725764250990267,-3.9828064532306628|48.725679557682362,-3.9827385375789146|48.72567025076134,-3.9827310750289113|48.725529844164292,-3.9826617613709225|48.725412537198615,-3.9826296635284164|48.725351694726704,-3.9826201452878531|48.725258599474508,-3.9826063049230411|48.725157520450125,-3.9825900299314232|48.725077863838543,-3.9825779905509102|48.724930435729831,-3.9825514102373938|48.724815578113535,-3.9825237355887291|48.724760905376989,-3.9825013965800564|48.724677938456551,-3.9824534296566916|48.724379435330384,-3.9822469276001118|48.724304509274596,-3.9821850264836076|48.7242453124599,-3.9821320570321772|48.724206187829317,-3.9821063430223207|48.724117073204575,-3.9820862134785551|48.724115211407316,-3.9821487430042084|48.724105184734945,-3.9821965308482867|48.724081719367348,-3.9822425179144361|48.72403804515411,-3.9822789731808181|48.723983655021549,-3.9822826030349505|48.723929220485232,-3.9822562022955359|48.723895585782238,-3.9821984698572472|48.723880844629228,-3.9821419043978206|48.723877648655254,-3.9820732384208499|48.723797845789221,-3.9820175084675502|48.723627638282132,-3.9818404854045926|48.723398970469532,-3.9816133237321165|48.723260255797825,-3.9814227812646581|48.723006925729933,-3.9809848799993199|48.72280848106093,-3.9806580548204384|48.722516930914956,-3.9801481705773893|48.722481401441762,-3.9800765402395699|48.722462122768988,-3.9800357458148223|48.722434350778542,-3.9799242133442574|48.722373601604914,-3.9796513219761738|48.722264111052837,-3.9791317143759946|48.722156047189948,-3.9785877356481039|48.722098493087067,-3.9783835106920691|48.722070005095787,-3.9782841665134727|48.72203958913564,-3.9782023053791269|48.722031576972761,-3.9781530230269748|48.722022615599293,-3.9780979064056936|48.722021670514209,-3.9780920945066907|48.722017644091409,-3.9779605441406249|48.722025513025159,-3.9776722815455559|48.722045332714529,-3.9772109376326559|48.722053735143007,-3.9771138043267014|48.722070438865636,-3.9770136883785674|48.722094683814795,-3.9768927468725837|48.72212066400369,-3.9767884140042522|48.722151894438355,-3.9766561252530277|48.722164753089025,-3.9765445766198697|48.722162767259498,-3.9764706168844497|48.722158751460597,-3.9764004794906445|48.722146012544165,-3.9762172688355162|48.722227461836013,-3.9762295377288059|48.722296288892942,-3.9762414815295908|48.72232221501698,-3.9762384660185242|48.722323563266947,-3.9762383094370031|48.722349680680871,-3.9762240648045903|48.722451644242639,-3.9761790330021487|48.722571582544703,-3.9761200308844824|48.722694661725811,-3.976038248842483|48.72280457348333,-3.9759192210092409|48.722898596632298,-3.9757939715137232|48.722924145771628,-3.9757277910774458|48.723027875342694,-3.9755601692346141|48.723085869388655,-3.9754642136941372|48.723130821313823,-3.9753596884687989|48.723172744908666,-3.9752452046208537|48.723203623065494,-3.9751497129709596|48.723237678058368,-3.9751078708190182|48.723310952164013,-3.9747819558910469|48.723353030414891,-3.9745569488778449|48.723383213512264,-3.9743808444699185|48.723489278649787,-3.9742503791095816|48.72355551679567,-3.9741678074149003|48.723650583000598,-3.9740863643858568|48.723765699966172,-3.9740171578073289|48.723826837306156,-3.9740062339886411|48.723887101962582,-3.974010205512887|48.723958957480612,-3.9740321052905099|48.724216407768509,-3.9741689188322571|48.72435426715839,-3.9742201244962216|48.72439213379154,-3.9742210984619613|48.724438595842273,-3.974198657249739|48.724493130833665,-3.9741308947219691|48.724533807080583,-3.9740530886242009|48.724547969508087,-3.9739962994762941|48.724551073116743,-3.9738970874068964|48.724548665724861,-3.9738148796355843|48.724524075644503,-3.9734485628141649|48.724523394428672,-3.9731673315003699|48.724548204108821,-3.9728362858883672|48.724608009682157,-3.9724935458412358|48.724663927892081,-3.9722171582295451|48.724689486935169,-3.9719503556234512|48.724702084887603,-3.9715194122452786|48.724384373293532,-3.9714864581687537|48.723931297977195,-3.9714367589707411|48.723773512694329,-3.9714020016841247|48.723142403376158,-3.9712315904037663|48.722553061093009,-3.9710572179266275|48.722423254995448,-3.9710534997178475|48.722263375490712,-3.9710853345555512|48.721991631903734,-3.9711308627031885|48.721620464188902,-3.9711781010758771|48.72144095754102,-3.9712096061222093|48.721377786529175,-3.9712206932369849|48.721035288187281,-3.9712717657898202|48.720661115119043,-3.97132405891|48.720658172249799,-3.9714205556562807|48.720625093705458,-3.9714611639598667|48.720367261850953,-3.9716545671302637|48.720105607994043,-3.9718515510278749|48.720012778432228,-3.9719564905164586|48.719948348088771,-3.9721007097512819|48.719931633885366,-3.9721394126199514|48.719910011094569,-3.9722156685332681|48.719889806981911,-3.9723139483690701|48.719878277201794,-3.972387460672353|48.719876634992943,-3.972430909277572|48.719715849824389,-3.9725090147281117|48.719588055166632,-3.9725942630926858|48.719492411002605,-3.9726701665779602|48.719409444971753,-3.9727300260532679|48.719359875220448,-3.9727438628495424|48.719321826370724,-3.9727305840993843|48.719271710489089,-3.9727075030610828|48.719155281814899,-3.9726141416165937|48.719090126287838,-3.9725549331087238|48.719004191387249,-3.9724342662034515|48.718954794701787,-3.9725068046106742|48.71891549110584,-3.97257659949108|48.718859370344639,-3.9726714363306401|48.718765530851456,-3.9725469829290265|48.718562737966153,-3.9723711084532511|48.718211808584627,-3.9721344786476291|48.718188304475333,-3.9721272403198005|48.718164800365109,-3.9721200019983796|48.718109220562894,-3.9721439516825257|48.718052465587341,-3.9722496193302645|48.717996400909868,-3.9723280873965545|48.717944269578382,-3.9723702377643164|48.717860598730219,-3.9723958870729996|48.717641152602148,-3.9723501522182838|48.71739138007689,-3.9722826210164159|48.717252044437757,-3.9722257717411287|48.717233967266964,-3.9722260823880156|48.717215017632306,-3.9722412865308696|48.717203599591002,-3.9722820604676521|48.71717314359752,-3.9723857864294811|48.71712716291492,-3.9725079036646913|48.717047580310116,-3.9726487225155389|48.716905525700838,-3.972884888842974|48.716894419684074,-3.9728124458573353|48.716852408704909,-3.9727126704960054|48.716778302906405,-3.9726058721368416|48.716660684131256,-3.9725328244648432|48.716408741054479,-3.9723790369595942|48.716123862870212,-3.9722017412730382|48.715976281584958,-3.972131509704095|48.715915834352352,-3.9721152358034035|48.715854094618727,-3.9721056116781583|48.715776671698386,-3.9721170864458126|48.715640869380508,-3.9721848837903315|48.715617927705033,-3.9721988711627061|48.715594986027497,-3.972212858522802|48.715281944994906,-3.9724084051266559|48.715184429421718,-3.9724854168724297|48.715058528880846,-3.9725845564718414|48.714919212724602,-3.9726969103083118|48.714788118444304,-3.9728076345724226|48.714725520395575,-3.972874307079028|48.714656333515606,-3.9729455558867888|48.714520442035905,-3.9730610951468801|48.714372926704769,-3.973190088001735|48.714257935284586,-3.9732879551060316|48.714193204448428,-3.9733447896150738|48.714195558580528,-3.9733662541672778|48.714197912708805,-3.9733877187215212|48.714217030176762,-3.9735853985978355|48.714237285412707,-3.9738869321571033|48.714233494968994,-3.9741211172878028|48.714217941003717,-3.9742786812842166|48.714187781003247,-3.9744697673526956|48.71411393188383,-3.9748978854605901|48.71405173547447,-3.9751733750558294|48.713980015154426,-3.9751337576981989|48.713904552414718,-3.9750963685588165|48.713732283332455,-3.9750160052121051|48.713649970508307,-3.9749722417727247|48.713572024851231,-3.9749618103152198|48.713461531545221,-3.9749674901387766|48.713333936263702,-3.9749722456633645|48.713256069931639,-3.9749604604215691|48.713203322659965,-3.9749206541688138|48.713149940610734,-3.9748916787552115|48.713074365315144,-3.9748870225864787|48.712960526290907,-3.9748881613981402|48.712875991705552,-3.9748823062645533|48.712792567944504,-3.9748574974517732|48.712733208605279,-3.974807255639317|48.712656509234058,-3.9747601512455399|48.712568764478391,-3.9747320355948168|48.712555616352482,-3.9746020180137824|48.71252932333676,-3.9744497748042646|48.712509734979868,-3.9743680156871255|48.712467837400574,-3.9742355157986884|48.712423807240434,-3.9740931796795915|48.712391745343673,-3.9740547784269156|48.712381668550407,-3.9740418323042972|48.712371591755641,-3.9740288861865705|48.712328372393891,-3.9740422052434679|48.712240426273773,-3.9740945659186919|48.712188882300609,-3.9740958554807819|48.712136531371669,-3.9740492818146889|48.712066882867461,-3.9739280787209492|48.711964131372866,-3.9738324641615206|48.711839130699545,-3.9737775346950173|48.711755048702443,-3.9737485468302975|48.711630435128718,-3.9737332378213397|48.711533221981895,-3.973743425780718|48.711462513332314,-3.9737789907058478|48.711399130773842,-3.973812806948227|48.711330521730567,-3.9738895850529796|48.71127611208626,-3.9739860002738361|48.711227604293548,-3.974212824153986|48.711153788926026,-3.9746095413423337|48.711097818265067,-3.974855831732143|48.710997033431745,-3.9752966923047377

</p>
</details> 

![No zoom, `polyline=true`, `markers=true`](https://github.com/user-attachments/assets/db0cf558-a8b6-49f8-8a09-b0d4c104514d)

<details><summary>No zoom, `polyline=false`, `markers=true`</summary>
<p>

http://localhost:3000/staticmaps?width=600&height=600&polyline=false&markers=true&format=png&coordinates=48.726304979176675,-3.9829935637739382|48.72623035828412,-3.9829726446543385|48.726126671101639,-3.9829546542797467|48.725965124843256,-3.9829070729298808|48.725871429380568,-3.9828726793245273|48.725764250990267,-3.9828064532306628|48.725679557682362,-3.9827385375789146|48.72567025076134,-3.9827310750289113|48.725529844164292,-3.9826617613709225|48.725412537198615,-3.9826296635284164|48.725351694726704,-3.9826201452878531|48.725258599474508,-3.9826063049230411|48.725157520450125,-3.9825900299314232|48.725077863838543,-3.9825779905509102|48.724930435729831,-3.9825514102373938|48.724815578113535,-3.9825237355887291|48.724760905376989,-3.9825013965800564|48.724677938456551,-3.9824534296566916|48.724379435330384,-3.9822469276001118|48.724304509274596,-3.9821850264836076|48.7242453124599,-3.9821320570321772|48.724206187829317,-3.9821063430223207|48.724117073204575,-3.9820862134785551|48.724115211407316,-3.9821487430042084|48.724105184734945,-3.9821965308482867|48.724081719367348,-3.9822425179144361|48.72403804515411,-3.9822789731808181|48.723983655021549,-3.9822826030349505|48.723929220485232,-3.9822562022955359|48.723895585782238,-3.9821984698572472|48.723880844629228,-3.9821419043978206|48.723877648655254,-3.9820732384208499|48.723797845789221,-3.9820175084675502|48.723627638282132,-3.9818404854045926|48.723398970469532,-3.9816133237321165|48.723260255797825,-3.9814227812646581|48.723006925729933,-3.9809848799993199|48.72280848106093,-3.9806580548204384|48.722516930914956,-3.9801481705773893|48.722481401441762,-3.9800765402395699|48.722462122768988,-3.9800357458148223|48.722434350778542,-3.9799242133442574|48.722373601604914,-3.9796513219761738|48.722264111052837,-3.9791317143759946|48.722156047189948,-3.9785877356481039|48.722098493087067,-3.9783835106920691|48.722070005095787,-3.9782841665134727|48.72203958913564,-3.9782023053791269|48.722031576972761,-3.9781530230269748|48.722022615599293,-3.9780979064056936|48.722021670514209,-3.9780920945066907|48.722017644091409,-3.9779605441406249|48.722025513025159,-3.9776722815455559|48.722045332714529,-3.9772109376326559|48.722053735143007,-3.9771138043267014|48.722070438865636,-3.9770136883785674|48.722094683814795,-3.9768927468725837|48.72212066400369,-3.9767884140042522|48.722151894438355,-3.9766561252530277|48.722164753089025,-3.9765445766198697|48.722162767259498,-3.9764706168844497|48.722158751460597,-3.9764004794906445|48.722146012544165,-3.9762172688355162|48.722227461836013,-3.9762295377288059|48.722296288892942,-3.9762414815295908|48.72232221501698,-3.9762384660185242|48.722323563266947,-3.9762383094370031|48.722349680680871,-3.9762240648045903|48.722451644242639,-3.9761790330021487|48.722571582544703,-3.9761200308844824|48.722694661725811,-3.976038248842483|48.72280457348333,-3.9759192210092409|48.722898596632298,-3.9757939715137232|48.722924145771628,-3.9757277910774458|48.723027875342694,-3.9755601692346141|48.723085869388655,-3.9754642136941372|48.723130821313823,-3.9753596884687989|48.723172744908666,-3.9752452046208537|48.723203623065494,-3.9751497129709596|48.723237678058368,-3.9751078708190182|48.723310952164013,-3.9747819558910469|48.723353030414891,-3.9745569488778449|48.723383213512264,-3.9743808444699185|48.723489278649787,-3.9742503791095816|48.72355551679567,-3.9741678074149003|48.723650583000598,-3.9740863643858568|48.723765699966172,-3.9740171578073289|48.723826837306156,-3.9740062339886411|48.723887101962582,-3.974010205512887|48.723958957480612,-3.9740321052905099|48.724216407768509,-3.9741689188322571|48.72435426715839,-3.9742201244962216|48.72439213379154,-3.9742210984619613|48.724438595842273,-3.974198657249739|48.724493130833665,-3.9741308947219691|48.724533807080583,-3.9740530886242009|48.724547969508087,-3.9739962994762941|48.724551073116743,-3.9738970874068964|48.724548665724861,-3.9738148796355843|48.724524075644503,-3.9734485628141649|48.724523394428672,-3.9731673315003699|48.724548204108821,-3.9728362858883672|48.724608009682157,-3.9724935458412358|48.724663927892081,-3.9722171582295451|48.724689486935169,-3.9719503556234512|48.724702084887603,-3.9715194122452786|48.724384373293532,-3.9714864581687537|48.723931297977195,-3.9714367589707411|48.723773512694329,-3.9714020016841247|48.723142403376158,-3.9712315904037663|48.722553061093009,-3.9710572179266275|48.722423254995448,-3.9710534997178475|48.722263375490712,-3.9710853345555512|48.721991631903734,-3.9711308627031885|48.721620464188902,-3.9711781010758771|48.72144095754102,-3.9712096061222093|48.721377786529175,-3.9712206932369849|48.721035288187281,-3.9712717657898202|48.720661115119043,-3.97132405891|48.720658172249799,-3.9714205556562807|48.720625093705458,-3.9714611639598667|48.720367261850953,-3.9716545671302637|48.720105607994043,-3.9718515510278749|48.720012778432228,-3.9719564905164586|48.719948348088771,-3.9721007097512819|48.719931633885366,-3.9721394126199514|48.719910011094569,-3.9722156685332681|48.719889806981911,-3.9723139483690701|48.719878277201794,-3.972387460672353|48.719876634992943,-3.972430909277572|48.719715849824389,-3.9725090147281117|48.719588055166632,-3.9725942630926858|48.719492411002605,-3.9726701665779602|48.719409444971753,-3.9727300260532679|48.719359875220448,-3.9727438628495424|48.719321826370724,-3.9727305840993843|48.719271710489089,-3.9727075030610828|48.719155281814899,-3.9726141416165937|48.719090126287838,-3.9725549331087238|48.719004191387249,-3.9724342662034515|48.718954794701787,-3.9725068046106742|48.71891549110584,-3.97257659949108|48.718859370344639,-3.9726714363306401|48.718765530851456,-3.9725469829290265|48.718562737966153,-3.9723711084532511|48.718211808584627,-3.9721344786476291|48.718188304475333,-3.9721272403198005|48.718164800365109,-3.9721200019983796|48.718109220562894,-3.9721439516825257|48.718052465587341,-3.9722496193302645|48.717996400909868,-3.9723280873965545|48.717944269578382,-3.9723702377643164|48.717860598730219,-3.9723958870729996|48.717641152602148,-3.9723501522182838|48.71739138007689,-3.9722826210164159|48.717252044437757,-3.9722257717411287|48.717233967266964,-3.9722260823880156|48.717215017632306,-3.9722412865308696|48.717203599591002,-3.9722820604676521|48.71717314359752,-3.9723857864294811|48.71712716291492,-3.9725079036646913|48.717047580310116,-3.9726487225155389|48.716905525700838,-3.972884888842974|48.716894419684074,-3.9728124458573353|48.716852408704909,-3.9727126704960054|48.716778302906405,-3.9726058721368416|48.716660684131256,-3.9725328244648432|48.716408741054479,-3.9723790369595942|48.716123862870212,-3.9722017412730382|48.715976281584958,-3.972131509704095|48.715915834352352,-3.9721152358034035|48.715854094618727,-3.9721056116781583|48.715776671698386,-3.9721170864458126|48.715640869380508,-3.9721848837903315|48.715617927705033,-3.9721988711627061|48.715594986027497,-3.972212858522802|48.715281944994906,-3.9724084051266559|48.715184429421718,-3.9724854168724297|48.715058528880846,-3.9725845564718414|48.714919212724602,-3.9726969103083118|48.714788118444304,-3.9728076345724226|48.714725520395575,-3.972874307079028|48.714656333515606,-3.9729455558867888|48.714520442035905,-3.9730610951468801|48.714372926704769,-3.973190088001735|48.714257935284586,-3.9732879551060316|48.714193204448428,-3.9733447896150738|48.714195558580528,-3.9733662541672778|48.714197912708805,-3.9733877187215212|48.714217030176762,-3.9735853985978355|48.714237285412707,-3.9738869321571033|48.714233494968994,-3.9741211172878028|48.714217941003717,-3.9742786812842166|48.714187781003247,-3.9744697673526956|48.71411393188383,-3.9748978854605901|48.71405173547447,-3.9751733750558294|48.713980015154426,-3.9751337576981989|48.713904552414718,-3.9750963685588165|48.713732283332455,-3.9750160052121051|48.713649970508307,-3.9749722417727247|48.713572024851231,-3.9749618103152198|48.713461531545221,-3.9749674901387766|48.713333936263702,-3.9749722456633645|48.713256069931639,-3.9749604604215691|48.713203322659965,-3.9749206541688138|48.713149940610734,-3.9748916787552115|48.713074365315144,-3.9748870225864787|48.712960526290907,-3.9748881613981402|48.712875991705552,-3.9748823062645533|48.712792567944504,-3.9748574974517732|48.712733208605279,-3.974807255639317|48.712656509234058,-3.9747601512455399|48.712568764478391,-3.9747320355948168|48.712555616352482,-3.9746020180137824|48.71252932333676,-3.9744497748042646|48.712509734979868,-3.9743680156871255|48.712467837400574,-3.9742355157986884|48.712423807240434,-3.9740931796795915|48.712391745343673,-3.9740547784269156|48.712381668550407,-3.9740418323042972|48.712371591755641,-3.9740288861865705|48.712328372393891,-3.9740422052434679|48.712240426273773,-3.9740945659186919|48.712188882300609,-3.9740958554807819|48.712136531371669,-3.9740492818146889|48.712066882867461,-3.9739280787209492|48.711964131372866,-3.9738324641615206|48.711839130699545,-3.9737775346950173|48.711755048702443,-3.9737485468302975|48.711630435128718,-3.9737332378213397|48.711533221981895,-3.973743425780718|48.711462513332314,-3.9737789907058478|48.711399130773842,-3.973812806948227|48.711330521730567,-3.9738895850529796|48.71127611208626,-3.9739860002738361|48.711227604293548,-3.974212824153986|48.711153788926026,-3.9746095413423337|48.711097818265067,-3.974855831732143|48.710997033431745,-3.9752966923047377

</p>
</details> 

![No zoom, `polyline=false`, `markers=true`](https://github.com/user-attachments/assets/bda4b953-1f9a-4a91-b1fd-b5aff957a430)


<details><summary>`zoom=9`, `polyline=true`, `markers=true`</summary>
<p>

http://localhost:3000/staticmaps?width=600&height=600&polyline=true&zoom=13&markers=true&format=png&coordinates=48.726304979176675,-3.9829935637739382|48.72623035828412,-3.9829726446543385|48.726126671101639,-3.9829546542797467|48.725965124843256,-3.9829070729298808|48.725871429380568,-3.9828726793245273|48.725764250990267,-3.9828064532306628|48.725679557682362,-3.9827385375789146|48.72567025076134,-3.9827310750289113|48.725529844164292,-3.9826617613709225|48.725412537198615,-3.9826296635284164|48.725351694726704,-3.9826201452878531|48.725258599474508,-3.9826063049230411|48.725157520450125,-3.9825900299314232|48.725077863838543,-3.9825779905509102|48.724930435729831,-3.9825514102373938|48.724815578113535,-3.9825237355887291|48.724760905376989,-3.9825013965800564|48.724677938456551,-3.9824534296566916|48.724379435330384,-3.9822469276001118|48.724304509274596,-3.9821850264836076|48.7242453124599,-3.9821320570321772|48.724206187829317,-3.9821063430223207|48.724117073204575,-3.9820862134785551|48.724115211407316,-3.9821487430042084|48.724105184734945,-3.9821965308482867|48.724081719367348,-3.9822425179144361|48.72403804515411,-3.9822789731808181|48.723983655021549,-3.9822826030349505|48.723929220485232,-3.9822562022955359|48.723895585782238,-3.9821984698572472|48.723880844629228,-3.9821419043978206|48.723877648655254,-3.9820732384208499|48.723797845789221,-3.9820175084675502|48.723627638282132,-3.9818404854045926|48.723398970469532,-3.9816133237321165|48.723260255797825,-3.9814227812646581|48.723006925729933,-3.9809848799993199|48.72280848106093,-3.9806580548204384|48.722516930914956,-3.9801481705773893|48.722481401441762,-3.9800765402395699|48.722462122768988,-3.9800357458148223|48.722434350778542,-3.9799242133442574|48.722373601604914,-3.9796513219761738|48.722264111052837,-3.9791317143759946|48.722156047189948,-3.9785877356481039|48.722098493087067,-3.9783835106920691|48.722070005095787,-3.9782841665134727|48.72203958913564,-3.9782023053791269|48.722031576972761,-3.9781530230269748|48.722022615599293,-3.9780979064056936|48.722021670514209,-3.9780920945066907|48.722017644091409,-3.9779605441406249|48.722025513025159,-3.9776722815455559|48.722045332714529,-3.9772109376326559|48.722053735143007,-3.9771138043267014|48.722070438865636,-3.9770136883785674|48.722094683814795,-3.9768927468725837|48.72212066400369,-3.9767884140042522|48.722151894438355,-3.9766561252530277|48.722164753089025,-3.9765445766198697|48.722162767259498,-3.9764706168844497|48.722158751460597,-3.9764004794906445|48.722146012544165,-3.9762172688355162|48.722227461836013,-3.9762295377288059|48.722296288892942,-3.9762414815295908|48.72232221501698,-3.9762384660185242|48.722323563266947,-3.9762383094370031|48.722349680680871,-3.9762240648045903|48.722451644242639,-3.9761790330021487|48.722571582544703,-3.9761200308844824|48.722694661725811,-3.976038248842483|48.72280457348333,-3.9759192210092409|48.722898596632298,-3.9757939715137232|48.722924145771628,-3.9757277910774458|48.723027875342694,-3.9755601692346141|48.723085869388655,-3.9754642136941372|48.723130821313823,-3.9753596884687989|48.723172744908666,-3.9752452046208537|48.723203623065494,-3.9751497129709596|48.723237678058368,-3.9751078708190182|48.723310952164013,-3.9747819558910469|48.723353030414891,-3.9745569488778449|48.723383213512264,-3.9743808444699185|48.723489278649787,-3.9742503791095816|48.72355551679567,-3.9741678074149003|48.723650583000598,-3.9740863643858568|48.723765699966172,-3.9740171578073289|48.723826837306156,-3.9740062339886411|48.723887101962582,-3.974010205512887|48.723958957480612,-3.9740321052905099|48.724216407768509,-3.9741689188322571|48.72435426715839,-3.9742201244962216|48.72439213379154,-3.9742210984619613|48.724438595842273,-3.974198657249739|48.724493130833665,-3.9741308947219691|48.724533807080583,-3.9740530886242009|48.724547969508087,-3.9739962994762941|48.724551073116743,-3.9738970874068964|48.724548665724861,-3.9738148796355843|48.724524075644503,-3.9734485628141649|48.724523394428672,-3.9731673315003699|48.724548204108821,-3.9728362858883672|48.724608009682157,-3.9724935458412358|48.724663927892081,-3.9722171582295451|48.724689486935169,-3.9719503556234512|48.724702084887603,-3.9715194122452786|48.724384373293532,-3.9714864581687537|48.723931297977195,-3.9714367589707411|48.723773512694329,-3.9714020016841247|48.723142403376158,-3.9712315904037663|48.722553061093009,-3.9710572179266275|48.722423254995448,-3.9710534997178475|48.722263375490712,-3.9710853345555512|48.721991631903734,-3.9711308627031885|48.721620464188902,-3.9711781010758771|48.72144095754102,-3.9712096061222093|48.721377786529175,-3.9712206932369849|48.721035288187281,-3.9712717657898202|48.720661115119043,-3.97132405891|48.720658172249799,-3.9714205556562807|48.720625093705458,-3.9714611639598667|48.720367261850953,-3.9716545671302637|48.720105607994043,-3.9718515510278749|48.720012778432228,-3.9719564905164586|48.719948348088771,-3.9721007097512819|48.719931633885366,-3.9721394126199514|48.719910011094569,-3.9722156685332681|48.719889806981911,-3.9723139483690701|48.719878277201794,-3.972387460672353|48.719876634992943,-3.972430909277572|48.719715849824389,-3.9725090147281117|48.719588055166632,-3.9725942630926858|48.719492411002605,-3.9726701665779602|48.719409444971753,-3.9727300260532679|48.719359875220448,-3.9727438628495424|48.719321826370724,-3.9727305840993843|48.719271710489089,-3.9727075030610828|48.719155281814899,-3.9726141416165937|48.719090126287838,-3.9725549331087238|48.719004191387249,-3.9724342662034515|48.718954794701787,-3.9725068046106742|48.71891549110584,-3.97257659949108|48.718859370344639,-3.9726714363306401|48.718765530851456,-3.9725469829290265|48.718562737966153,-3.9723711084532511|48.718211808584627,-3.9721344786476291|48.718188304475333,-3.9721272403198005|48.718164800365109,-3.9721200019983796|48.718109220562894,-3.9721439516825257|48.718052465587341,-3.9722496193302645|48.717996400909868,-3.9723280873965545|48.717944269578382,-3.9723702377643164|48.717860598730219,-3.9723958870729996|48.717641152602148,-3.9723501522182838|48.71739138007689,-3.9722826210164159|48.717252044437757,-3.9722257717411287|48.717233967266964,-3.9722260823880156|48.717215017632306,-3.9722412865308696|48.717203599591002,-3.9722820604676521|48.71717314359752,-3.9723857864294811|48.71712716291492,-3.9725079036646913|48.717047580310116,-3.9726487225155389|48.716905525700838,-3.972884888842974|48.716894419684074,-3.9728124458573353|48.716852408704909,-3.9727126704960054|48.716778302906405,-3.9726058721368416|48.716660684131256,-3.9725328244648432|48.716408741054479,-3.9723790369595942|48.716123862870212,-3.9722017412730382|48.715976281584958,-3.972131509704095|48.715915834352352,-3.9721152358034035|48.715854094618727,-3.9721056116781583|48.715776671698386,-3.9721170864458126|48.715640869380508,-3.9721848837903315|48.715617927705033,-3.9721988711627061|48.715594986027497,-3.972212858522802|48.715281944994906,-3.9724084051266559|48.715184429421718,-3.9724854168724297|48.715058528880846,-3.9725845564718414|48.714919212724602,-3.9726969103083118|48.714788118444304,-3.9728076345724226|48.714725520395575,-3.972874307079028|48.714656333515606,-3.9729455558867888|48.714520442035905,-3.9730610951468801|48.714372926704769,-3.973190088001735|48.714257935284586,-3.9732879551060316|48.714193204448428,-3.9733447896150738|48.714195558580528,-3.9733662541672778|48.714197912708805,-3.9733877187215212|48.714217030176762,-3.9735853985978355|48.714237285412707,-3.9738869321571033|48.714233494968994,-3.9741211172878028|48.714217941003717,-3.9742786812842166|48.714187781003247,-3.9744697673526956|48.71411393188383,-3.9748978854605901|48.71405173547447,-3.9751733750558294|48.713980015154426,-3.9751337576981989|48.713904552414718,-3.9750963685588165|48.713732283332455,-3.9750160052121051|48.713649970508307,-3.9749722417727247|48.713572024851231,-3.9749618103152198|48.713461531545221,-3.9749674901387766|48.713333936263702,-3.9749722456633645|48.713256069931639,-3.9749604604215691|48.713203322659965,-3.9749206541688138|48.713149940610734,-3.9748916787552115|48.713074365315144,-3.9748870225864787|48.712960526290907,-3.9748881613981402|48.712875991705552,-3.9748823062645533|48.712792567944504,-3.9748574974517732|48.712733208605279,-3.974807255639317|48.712656509234058,-3.9747601512455399|48.712568764478391,-3.9747320355948168|48.712555616352482,-3.9746020180137824|48.71252932333676,-3.9744497748042646|48.712509734979868,-3.9743680156871255|48.712467837400574,-3.9742355157986884|48.712423807240434,-3.9740931796795915|48.712391745343673,-3.9740547784269156|48.712381668550407,-3.9740418323042972|48.712371591755641,-3.9740288861865705|48.712328372393891,-3.9740422052434679|48.712240426273773,-3.9740945659186919|48.712188882300609,-3.9740958554807819|48.712136531371669,-3.9740492818146889|48.712066882867461,-3.9739280787209492|48.711964131372866,-3.9738324641615206|48.711839130699545,-3.9737775346950173|48.711755048702443,-3.9737485468302975|48.711630435128718,-3.9737332378213397|48.711533221981895,-3.973743425780718|48.711462513332314,-3.9737789907058478|48.711399130773842,-3.973812806948227|48.711330521730567,-3.9738895850529796|48.71127611208626,-3.9739860002738361|48.711227604293548,-3.974212824153986|48.711153788926026,-3.9746095413423337|48.711097818265067,-3.974855831732143|48.710997033431745,-3.9752966923047377

</p>
</details> 

![`zoom=9`, `polyline=true`, `markers=true`](https://github.com/user-attachments/assets/9d807751-17cc-40a9-9646-4308934b0472)